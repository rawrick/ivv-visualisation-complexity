<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple Visualisation</title>
  <link rel="stylesheet" href="css/main.css">
  <script src="js/jquery-3.6.0.js"></script>
</head>
<body>
  <div class="header">
    <a href="index.html"><img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png" alt="Google Logo"></a>
    <input type="text" name="" value="can eating dates help manange iron deficiency anemia">
  </div>

  <div class="searchTools">
    <ul class="searchToolOptions">
      <li class="active"><a href="">All</a></li>
      <li><a href="#">News</a></li>
      <li><a href="#">Videos</a></li>
      <li><a href="#">Shopping</a></li>
      <li><a href="#">Maps</a></li>
      <li><a href="#">More</a></li>
    </ul>
  </div>

  <div class="searchResults">
    <p class="numberOfResults">About 142,000,000 results (0.48 seconds)</p>

    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url01"></a>
        <h2><a href="#" id="title01"></a></h2>
        <p id="snippet01"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider01">        
        <p>Credible</p>
      </div>
    </div>
    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url02"></a>
        <h2><a href="#" id="title02"></a></h2>
        <p id="snippet02"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider02">        
        <p>Credible</p>
      </div>
    </div>
    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url03"></a>
        <h2><a href="#" id="title03"></a></h2>
        <p id="snippet03"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider03">        
        <p>Credible</p>
      </div>
    </div>
    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url04"></a>
        <h2><a href="#" id="title04"></a></h2>
        <p id="snippet04"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider04">        
        <p>Credible</p>
      </div>
    </div>
    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url05"></a>
        <h2><a href="#" id="title05"></a></h2>
        <p id="snippet05"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider05">        
        <p>Credible</p>
      </div>
    </div>
    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url06"></a>
        <h2><a href="#" id="title06"></a></h2>
        <p id="snippet06"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider06">        
        <p>Credible</p>
      </div>
    </div>
    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url07"></a>
        <h2><a href="#" id="title07"></a></h2>
        <p id="snippet07"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider07">        
        <p>Credible</p>
      </div>
    </div>
    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url08"></a>
        <h2><a href="#" id="title08"></a></h2>
        <p id="snippet08"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider08">        
        <p>Credible</p>
      </div>
    </div>
    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url09"></a>
        <h2><a href="#" id="title09"></a></h2>
        <p id="snippet09"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider09">        
        <p>Credible</p>
      </div>
    </div>
    <div class="result">
      <div class="snippet">
        <a class="link" href="#" id="url10"></a>
        <h2><a href="#" id="title10"></a></h2>
        <p id="snippet10"></p>
      </div>
      <div class="rating">
        <p>Not Credible</p>
        <input type="range" min="0" max="100" value="0" class="slider" id="slider10">        
        <p>Credible</p>
      </div>
    </div>
  
  </div>

  <div class="nextPage">
    <a href="study-complex-01.html">
    <button class="button" id="button" onclick="saveSliders()">Click me</button>
    </a>
  </div>

  <div class="footer">
  </div>

  <script>
    var title01 = document.getElementById("title01");
    var title02 = document.getElementById("title02");
    var title03 = document.getElementById("title03");
    var title04 = document.getElementById("title04");
    var title05 = document.getElementById("title05");
    var title06 = document.getElementById("title06");
    var title07 = document.getElementById("title07");
    var title08 = document.getElementById("title08");
    var title09 = document.getElementById("title09");
    var title10 = document.getElementById("title10");

    var snippet01 = document.getElementById("snippet01");
    var snippet02 = document.getElementById("snippet02");
    var snippet03 = document.getElementById("snippet03");
    var snippet04 = document.getElementById("snippet04");
    var snippet05 = document.getElementById("snippet05");
    var snippet06 = document.getElementById("snippet06");
    var snippet07 = document.getElementById("snippet07");
    var snippet08 = document.getElementById("snippet08");
    var snippet09 = document.getElementById("snippet09");
    var snippet10 = document.getElementById("snippet10");

    var url01 = document.getElementById("url01");
    var url02 = document.getElementById("url02");
    var url03 = document.getElementById("url03");
    var url04 = document.getElementById("url04");
    var url05 = document.getElementById("url05");
    var url06 = document.getElementById("url06");
    var url07 = document.getElementById("url07");
    var url08 = document.getElementById("url08");
    var url09 = document.getElementById("url09");
    var url10 = document.getElementById("url10");

    var titles = [title01, title02, title03, title04, title05, title06, title07, title08, title09, title10]
    var snippets = [snippet01, snippet02, snippet03, snippet04, snippet05, snippet06, snippet07, snippet08, snippet09, snippet10]
    var urls = [url01, url02, url03, url04, url05, url06, url07, url08, url09, url10]
   
    $.ajax({
        url: 'snippets.csv',
        dataType: 'text',
      }).done(successFunction);

    var topic105_ids = []
    var topic105_titles = []
    var topic105_snippets = []
    var topic105_urls = []
    var topic114_ids = []
    var topic114_titles = []
    var topic114_snippets = []
    var topic114_urls = []
    var topic122_ids = []
    var topic122_titles = []
    var topic122_snippets = []
    var topic122_urls = []
    var topic129_ids = []
    var topic129_titles = []
    var topic129_snippets = []
    var topic129_urls = []

    function successFunction(data) {
      var allRows = data.split(/\r?\n|\r/);
      for (var i = 1; i < allRows.length; i++) {
        var rowCells = allRows[i].split('~');      
        switch (rowCells[1]) {
          case '105': 
            topic105_ids.push(rowCells[2]);
            topic105_titles.push(rowCells[3]);
            topic105_snippets.push(rowCells[4]);
            topic105_urls.push(rowCells[5]);
            break;
          case '114': 
            topic114_ids.push(rowCells[2]);
            topic114_titles.push(rowCells[3]);
            topic114_snippets.push(rowCells[4]);
            topic114_urls.push(rowCells[5]);
            break;
          case '122': 
            topic122_ids.push(rowCells[2]);
            topic122_titles.push(rowCells[3]);
            topic122_snippets.push(rowCells[4]);
            topic122_urls.push(rowCells[5]);
            break;
          case '129': 
            topic129_ids.push(rowCells[2]);
            topic129_titles.push(rowCells[3]);
            topic129_snippets.push(rowCells[4]);
            topic129_urls.push(rowCells[5]);
            break;
        }
      }
      for (var i = 0; i < 10; i++) {
        titles[i].innerHTML = topic105_titles[i];
        snippets[i].innerHTML = topic105_snippets[i];
        urls[i].innerHTML = topic105_urls[i];
      }
    }
    
    function saveSliders() {
      var values = [];
      values.push(document.getElementById("slider01").value);
      values.push(document.getElementById("slider02").value);
      values.push(document.getElementById("slider03").value);
      values.push(document.getElementById("slider04").value);
      values.push(document.getElementById("slider05").value);
      values.push(document.getElementById("slider06").value);
      values.push(document.getElementById("slider07").value);
      values.push(document.getElementById("slider08").value);
      values.push(document.getElementById("slider09").value);
      values.push(document.getElementById("slider10").value);

      var xmlhttp=new XMLHttpRequest();
      xmlhttp.open("GET","sliders_no_vis_01.php?sliders="+values,true);
      xmlhttp.send();
    }

  </script>

</body>
</html>